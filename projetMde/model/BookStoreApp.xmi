<?xml version="1.0" encoding="UTF-8"?>
<projetMde:Application
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:projetMde="http://www.example.org/projetMde"
    xsi:schemaLocation="http://www.example.org/projetMde projetMde.ecore"
    name="BookStoreApp">
  <boundedContext
      name="Account">
    <microservice
        name="AccountService">
      <properties>
        <proprety
            name="spring.datasource.url"
            value="jdbc:mysql://localhost:3306/mydb?serverTimezone=Africa/Algiers"/>
        <proprety
            name="spring.datasource.username"
            value="root"/>
        <proprety
            name="spring.datasource.password"
            value="user"/>
        <proprety
            name="spring.datasource.driver-class-name"
            value="com.mysql.cj.jdbc.Driver"/>
        <proprety
            name="spring.jpa.hibernate.ddl-auto"
            value="update"/>
        <proprety
            name="spring.jpa.show-sql"
            value="true"/>
        <proprety
            name="spring.jpa.hibernate.naming-strategy"
            value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <proprety
            name="spring.jpa.properties.hibernate.dialect"
            value="org.hibernate.dialect.MySQL5InnoDBDialect"/>
        <proprety
            name="spring.jpa.properties.hibernate.show_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.use_sql_comments"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.format_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.type"
            value="trace"/>
        <proprety
            name="spring.jpa.properties.hibernate.enable_lazy_load_no_trans"
            value="true"/>
        <proprety
            name="server.port"
            value="8081"/>
      </properties>
      <entity
          name="Account">
        <field
            xsi:type="projetMde:BaseField"
            name="accountId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="username"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="password"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="firstName"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="lastName"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="email"
            type="String"/>
      </entity>
    </microservice>
  </boundedContext>
  <boundedContext
      name="Billing">
    <microservice
        name="BillingService">
      <properties>
        <proprety
            name="spring.datasource.url"
            value="jdbc:mysql://localhost:3306/mydb?serverTimezone=Africa/Algiers"/>
        <proprety
            name="spring.datasource.username"
            value="root"/>
        <proprety
            name="spring.datasource.password"
            value="user"/>
        <proprety
            name="spring.datasource.driver-class-name"
            value="com.mysql.cj.jdbc.Driver"/>
        <proprety
            name="spring.jpa.hibernate.ddl-auto"
            value="update"/>
        <proprety
            name="spring.jpa.show-sql"
            value="true"/>
        <proprety
            name="spring.jpa.hibernate.naming-strategy"
            value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <proprety
            name="spring.jpa.properties.hibernate.dialect"
            value="org.hibernate.dialect.MySQL5InnoDBDialect"/>
        <proprety
            name="spring.jpa.properties.hibernate.show_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.use_sql_comments"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.format_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.type"
            value="trace"/>
        <proprety
            name="spring.jpa.properties.hibernate.enable_lazy_load_no_trans"
            value="true"/>
        <proprety
            name="server.port"
            value="8082"/>
      </properties>
      <entity
          name="Billing">
        <field
            xsi:type="projetMde:BaseField"
            name="billingId"
            type="String"/>
        <field
            xsi:type="projetMde:SubClass"
            name="address"
            type="Address"/>
      </entity>
      <entity
          name="Address"
          create="false"
          read="false"
          update="false"
          delete="false"
          mainEntity="false">
        <field
            xsi:type="projetMde:BaseField"
            name="addressId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="userId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="addressLine1"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="addressLine2"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="city"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="state"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="postalCode"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="country"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="phone"
            type="String"/>
      </entity>
    </microservice>
  </boundedContext>
  <boundedContext
      name="Catalog">
    <microservice
        name="CatalogService">
      <properties>
        <proprety
            name="spring.datasource.url"
            value="jdbc:mysql://localhost:3306/mydb?serverTimezone=Africa/Algiers"/>
        <proprety
            name="spring.datasource.username"
            value="root"/>
        <proprety
            name="spring.datasource.password"
            value="user"/>
        <proprety
            name="spring.datasource.driver-class-name"
            value="com.mysql.cj.jdbc.Driver"/>
        <proprety
            name="spring.jpa.hibernate.ddl-auto"
            value="update"/>
        <proprety
            name="spring.jpa.show-sql"
            value="true"/>
        <proprety
            name="spring.jpa.hibernate.naming-strategy"
            value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <proprety
            name="spring.jpa.properties.hibernate.dialect"
            value="org.hibernate.dialect.MySQL5InnoDBDialect"/>
        <proprety
            name="spring.jpa.properties.hibernate.show_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.use_sql_comments"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.format_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.type"
            value="trace"/>
        <proprety
            name="spring.jpa.properties.hibernate.enable_lazy_load_no_trans"
            value="true"/>
        <proprety
            name="server.port"
            value="8083"/>
      </properties>
      <entity
          name="Product">
        <field
            xsi:type="projetMde:BaseField"
            name="productId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="productName"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="description"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="price"
            type="double"/>
        <field
            xsi:type="projetMde:SubClass"
            name="productCategory"
            type="ProductCategory"
            ManyToOne="true"/>
        <field
            xsi:type="projetMde:BaseField"
            name="availableItemCount"
            type="int"/>
      </entity>
      <entity
          name="ProductCategory">
        <field
            xsi:type="projetMde:BaseField"
            name="productCategoryId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="productCategoryName"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="description"
            type="String"/>
        <field
            xsi:type="projetMde:SubClass"
            name="products"
            type="List&lt;Product>"
            OneToMany="true"/>
      </entity>
      <entity
          name="Review">
        <field
            xsi:type="projetMde:BaseField"
            name="reviewId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="productId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="userId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="userName"/>
        <field
            xsi:type="projetMde:BaseField"
            name="ratingValue"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="reviewMessage"
            type="String"/>
      </entity>
    </microservice>
  </boundedContext>
  <boundedContext
      name="Order">
    <microservice
        name="OrderService">
      <properties>
        <proprety
            name="spring.datasource.url"
            value="jdbc:mysql://localhost:3306/mydb?serverTimezone=Africa/Algiers"/>
        <proprety
            name="spring.datasource.username"
            value="root"/>
        <proprety
            name="spring.datasource.password"
            value="user"/>
        <proprety
            name="spring.datasource.driver-class-name"
            value="com.mysql.cj.jdbc.Driver"/>
        <proprety
            name="spring.jpa.hibernate.ddl-auto"
            value="update"/>
        <proprety
            name="spring.jpa.show-sql"
            value="true"/>
        <proprety
            name="spring.jpa.hibernate.naming-strategy"
            value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <proprety
            name="spring.jpa.properties.hibernate.dialect"
            value="org.hibernate.dialect.MySQL5InnoDBDialect"/>
        <proprety
            name="spring.jpa.properties.hibernate.show_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.use_sql_comments"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.format_sql"
            value="true"/>
        <proprety
            name="spring.jpa.properties.hibernate.type"
            value="trace"/>
        <proprety
            name="spring.jpa.properties.hibernate.enable_lazy_load_no_trans"
            value="true"/>
        <proprety
            name="server.port"
            value="8084"/>
      </properties>
      <entity
          name="Order">
        <field
            xsi:type="projetMde:BaseField"
            name="orderId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="userName"
            type="String"/>
        <field
            xsi:type="projetMde:SubClass"
            name="orderItems"
            type="List&lt;OrderItem>"
            OneToMany="true"/>
        <field
            xsi:type="projetMde:BaseField"
            name="totalItemsPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="totalOrderPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="paymentMethodId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="taxPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="shippingPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="isPaid"
            type="boolean"/>
        <field
            xsi:type="projetMde:BaseField"
            name="paymentId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="paymentDate"
            type="LocalDateTime"/>
        <field
            xsi:type="projetMde:BaseField"
            name="paymentReceiptUrl"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="deliveredDate"
            type="LocalDateTime"/>
        <field
            xsi:type="projetMde:BaseField"
            name="isDelivered"
            type="boolean"/>
      </entity>
      <entity
          name="CartItem">
        <field
            xsi:type="projetMde:BaseField"
            name="cartItemId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="quantity"
            type="int"/>
        <field
            xsi:type="projetMde:BaseField"
            name="itemPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="extendedPrice"
            type="double"/>
        <field
            xsi:type="projetMde:BaseField"
            name="productId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="productName"
            type="String"/>
        <field
            xsi:type="projetMde:SubClass"
            name="cart"
            type="Cart"
            ManyToOne="true"/>
      </entity>
      <entity
          name="Cart">
        <field
            xsi:type="projetMde:BaseField"
            name="cartId"
            type="String"/>
        <field
            xsi:type="projetMde:BaseField"
            name="userName"
            type="String"/>
        <field
            xsi:type="projetMde:SubClass"
            name="cartItems"
            type="List&lt;CartItem>"
            OneToMany="true"/>
        <field
            xsi:type="projetMde:BaseField"
            name="totalPrice"
            type="double"/>
      </entity>
    </microservice>
  </boundedContext>
</projetMde:Application>
